window.Paloma=window.Paloma||{},window.console?(Paloma.warn=function(o){"development"==Paloma.env&&console.warn(o)},Paloma.log=function(o){"development"==Paloma.env&&console.log(o)}):Paloma.log=Paloma.warn=function(){},$(document).ready(function(){return void 0===window.Paloma?(void 0!==window.console&&console.warn("Paloma not found. Require it in your application.js."),!0):void Paloma.engine.start()}),function(o){var t=function(o){this.namespaceDelimiter=o};t.prototype.parse=function(o){var t=o.split(this.namespaceDelimiter),n=t.pop(),a=t,r=a.concat([n]);return{controllerPath:r,namespaces:a,controller:n}},o.Router=t}(window.Paloma),function(o){var t=function(o){this.params=o};o.Controller=t}(window.Paloma),function(o){var t=function(o){this.instances={},this.router=o};t.prototype.make=function(o){for(var t=this.router.parse(o),a=this.instances,r=0,e=t.namespaces.length;e>r;r++){var l=t.namespaces[r];a[l]=a[l]||{},a=a[l]}return a[t.controller]=n()},t.prototype.get=function(o){for(var t=this.router.parse(o),n=this.instances,a=0,r=t.controllerPath.length;r>a;a++){var e=t.controllerPath[a];if(null==n[e])return null;n=n[e]}return n};var n=function(){var t=function(o){this.params=o};return $.extend(t,o.Controller),$.extend(t.prototype,o.Controller.prototype),t};o.ControllerFactory=t}(window.Paloma),function(o){var t=function(o){this.factory=o.factory,this._request=null};t.prototype.start=function(){var t=this._request.controller,n=this.factory.get(t);if(!n)return o.warn("Paloma: undefined controller -> "+t);var a=new n(this._request.params),r=this._request.action,e=this._request.params;return a[r]?(o.log("Paloma: Execute "+t+"#"+r+" with"),o.log(e),void a[this._request.action]()):o.warn("Paloma: undefined action <"+r+"> for <"+t+"> controller")},t.prototype.setRequest=function(o,t,n){this._request={controller:o,action:t,params:n}},t.prototype.getRequest=function(o){return o?this._request[o]:this._request},o.Engine=t}(window.Paloma),function(Paloma){Paloma._router=new Paloma.Router("/"),Paloma._controllerFactory=new Paloma.ControllerFactory(Paloma._router),Paloma.controller=function(o){return Paloma._controllerFactory.get(o)||Paloma._controllerFactory.make(o)},Paloma.engine=new Paloma.Engine({factory:Paloma._controllerFactory}),Paloma.executeHook=function(){var $hook=$(".js-paloma-hook:first script:first");if(0!=$hook.length){var hook=$hook.html();eval(hook)}}}(window.Paloma);